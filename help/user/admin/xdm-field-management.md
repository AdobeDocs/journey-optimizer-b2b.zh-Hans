---
title: XDM字段管理
description: 使用XDM字段管理可控制Journey Optimizer B2B edition可用的数据。
feature: Data Management, Integrations
role: User
badgeBeta: label="Beta 版" type="informative" tooltip="此功能当前为有限测试版"
source-git-commit: de7f5620556a48fe6f12ed1c70e925e11ec770f1
workflow-type: tm+mt
source-wordcount: '1027'
ht-degree: 1%

---


# XDM字段管理

体验数据模型(XDM)字段是向[!DNL Journey Optimizer B2B Edition]应用程序提供数据的架构元素。 您可以在历程、购买组和功能（如电子邮件个性化和条件内容）中使用XDM字段作为过滤器和约束。

架构根据标准XDM类定义字段。 标准XDM类包括“个人资料”、“业务帐户”和“体验事件”。 关系架构还定义了一些字段，这些字段允许您以类似于传统关系数据库的方式对结构化数据进行建模。

Adobe Experience Platform (AEP)架构通常包含复杂层次结构中的许多字段。 遍历XDM架构树需要时间。 XDM字段管理通过仅显示与每个历程相关的字段而简化字段选择。 管理员控制向历程创建者显示的字段。 管理员还会将字段设置为只读或可编辑。 这些操作可在旅程设计期间提高效率。

了解XDM并与数据工程师或B2B客户数据平台(CDP)数据建模利益相关者进行协作的管理员遵循本指南中的操作步骤。

>[!NOTE]
>[关系架构](https://experienceleague.adobe.com/en/docs/experience-platform/xdm/schema/relational#)可用于[!DNL Journey Optimizer B2B Edition]的有限版本。 Data Mirror和关系架构适用于Journey Optimizer Orchestrated营销活动许可证持有者。 关系架构也以受限版本的形式提供给Customer Journey Analytics用户，具体取决于您的许可和功能启用。 请联系您的Adobe代表以获取访问权限。

## 访问XDM类

要打开XDM字段管理区域，请导航到&#x200B;**配置** >设置> **XDM类**。

* 仅当历程中主动使用架构后，您才可以添加新字段。
* 删除、重命名或更改字段类型可能会导致历程功能问题。 处理架构时要小心。
* 请勿重命名或删除架构，或修改关系架构中的键。

>[!IMPORTANT]
>您可以通过选择新字段或取消选择不再需要的字段来随时更新字段选择。 使用此架构发布历程后，您将锁定架构结构。 不支持删除或重命名架构、添加新字段或更改字段类型，这可能会导致历程失败。

## 标准类

在“标准类”选项卡中，可以编辑&#x200B;_托管字段_&#x200B;和&#x200B;_可更新字段_。

* 受管字段显示在历程、购买群组和个性化功能中。
* 可更新字段用作&#x200B;_更新帐户配置文件_&#x200B;和&#x200B;_更新人员配置文件_&#x200B;历程节点的约束。

![显示XDM类配置的托管和可更新字段的标准类选项卡](assets/xdm-standard.png){width="600" zoomable="yes"}

按照以下步骤从标准XDM类的合并架构中选择字段：

1. 转到&#x200B;**管理** > **配置** > **XDM类**。
1. 打开&#x200B;**Standard**&#x200B;选项卡。 选择下列类之一：

   * XDM 个人轮廓
   * XDM业务帐户

该表显示的信息包括：

* 托管字段数
* 可更新字段数
* 上次更新时间

单击类名以打开&#x200B;_托管字段_&#x200B;选择对话框。

![显示可配置字段选项的标准XDM类的托管字段选择对话框](assets/xdm-standard-managed-fields.png){width="600" zoomable="yes"}

1. 单击&#x200B;**...**&#x200B;菜单可在&#x200B;_[!UICONTROL 托管字段]_&#x200B;和&#x200B;_[!UICONTROL 可更新字段]_&#x200B;之间切换。 该对话框列出了所有可配置的字段。
1. 为每个XDM类最多选择100个字段。
1. 单击&#x200B;**[!UICONTROL 保存]**&#x200B;以确认您的选择。

使用[!UICONTROL 仅显示选定字段]筛选器以仅显示活动字段。

对于&#x200B;_可更新字段_，您可以访问一个单独的对话框，以便从其他数据源中选择字段：

1. 在数据集下拉列表中，选择要配置的数据源。
1. 编辑所选数据集中的字段。
1. 单击&#x200B;**[!UICONTROL 保存]**&#x200B;以应用更改。

![用于从XDM架构配置中的数据集选择可更新字段的对话框](assets/xdm-select-updateable.png){width="600" zoomable="yes"}

字段必须首先是&#x200B;_托管_，然后才能是&#x200B;_可更新_。 您选择的&#x200B;_可更新字段_&#x200B;必须存在于用户提供的架构中。

## 关系架构

关系架构允许您创建自定义数据类。 通过访问多个数据集，您可以创建专门针对您的数据需求定制的类。
在历程决策和电子邮件个性化中将关系架构用于业务实体，例如购买、许可和事件注册。 您最多可以选择50个架构，每个架构最多可以选择100个字段。

架构编辑器中的![关系架构选项卡显示Adobe Journey Optimizer的业务实体字段](assets/xdm-relational.png)

>[!NOTE]
>此功能当前支持与帐户相关的自定义对象用例，并计划在未来支持更多现成的对象用例。

使用&#x200B;**数据管理** > **架构**&#x200B;中的架构编辑器创建关系架构。

在创建用于[!DNL Journey Optimizer B2B Edition]的架构时，必须包括以下配置值：

* 行为：记录
* 分段：已启用
* 关系类型：多对一
* 引用架构：B2B帐户
* 必填字段：主键、外键和版本描述符
* 关联的数据集：已定义并映射到架构

### 创建关系架构

按照以下步骤选择要在[!DNL Journey Optimizer B2B Edition]中使用的字段：

1. 转到&#x200B;**管理** > **配置** > **XDM类**。
1. 打开&#x200B;**关系**&#x200B;选项卡以查看您的架构。
1. 单击&#x200B;**[!UICONTROL 选择关系XDM架构]**。

   * 在测试版中，仅支持&#x200B;_帐户多对一自定义对象_。

1. 选择关系架构并单击&#x200B;**[!UICONTROL 下一步]**。

   * 在Beta版中，选择某个架构后，便无法从列表中删除该架构。

1. 输入命名空间或使用默认命名空间。 单击&#x200B;**[!UICONTROL 下一步]**。

   * 只能设置命名空间一次，并且无法撤消此操作。

1. 查看关系架构字段。 单击![信息图标](../assets/do-not-localize/icon-info-light.svg) [!UICONTROL 信息]图标以查看字段元数据。
1. 选择要为历程和个性化启用的字段。 平台会自动选择以下必填字段：

   * 外键
   * 主键
   * 版本描述符

1. 使用[!UICONTROL 仅显示选定的字段]滑块预览您的选择。
1. 使用搜索栏按名称筛选字段。
1. 单击&#x200B;**[!UICONTROL 保存]**。

## 事件

在历程决策中使用体验事件及其相关字段。 您最多可以选择50个事件，每个事件最多可以选择100个字段。

![事件选项卡，显示历程和个性化的体验事件选择和架构字段](assets/xdm-events.png){width="700" zoomable="yes"}

单击事件名称可查看详细信息并编辑配置的字段。

按照以下步骤选择体验事件和架构字段：

1. 转到&#x200B;**管理** > **配置** > **XDM类**。
1. 打开&#x200B;**事件**&#x200B;选项卡。
1. 要为事件选择字段，请单击&#x200B;**[!UICONTROL 选择体验事件]**。
1. 在详细信息页面上，单击&#x200B;**[!UICONTROL 选择事件类型]**。
1. 从事件列表中选择您的事件。
1. 单击&#x200B;**[!UICONTROL 选择]**&#x200B;关闭对话框。

   * 在测试版中，您无法删除选定的事件。

1. 单击&#x200B;**[!UICONTROL 选择字段]**。
1. 使用[!UICONTROL 仅显示选定的字段]滑块查看您当前的选择。
1. 选择要在[!DNL Journey Optimizer B2B Edition]中使用的字段。 单击&#x200B;**[!UICONTROL 选择]**&#x200B;关闭对话框。
1. 单击[!UICONTROL 保存]。
